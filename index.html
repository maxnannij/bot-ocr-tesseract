<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <title>Extractor de Tickets Gratuito</title>
    <link rel="stylesheet" href="style.css">
    <!-- Solo necesitamos Tesseract y pdf.js -->
    <script src='https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js'></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/2.11.338/pdf.min.js"></script>
</head>
<body>
    <h1>Extractor de Datos de Tickets</h1>
    <p>Arrastra una imagen o PDF de tu ticket para ver los datos estructurados.</p>
    
    <input type="file" id="file-input" accept="image/*,application/pdf" style="display: none;">
    <div id="drop-zone" onclick="document.getElementById('file-input').click();">
        <span id="drop-zone-text">Arrastra tu archivo aquí o haz clic para seleccionar</span>
    </div>
    
    <div id="status">Esperando un archivo...</div>

    <!-- ¡NUEVO! Contenedor de resultados estructurados -->
    <div id="result-container" class="hidden">
        <h2>Resultados Extraídos</h2>
        
        <div id="resumen-container">
            <p><strong>Comercio:</strong> <span id="resumen-comercio"></span></p>
            <p><strong>Fecha:</strong> <span id="resumen-fecha"></span></p>
            <p><strong>Total General:</strong> <span id="resumen-total"></span></p>
        </div>

        <h3>Desglose de Artículos</h3>
        <table id="articulos-table">
            <thead>
                <tr>
                    <th>Artículo</th>
                    <th>Monto</th>
                </tr>
            </thead>
            <tbody id="articulos-tbody">
                <!-- Las filas de la tabla se insertarán aquí con JavaScript -->
            </tbody>
        </table>
        
        <button id="copy-button">Copiar Resultados</button>
    </div>

    <script src="app.js"></script>
</body>
</html>
